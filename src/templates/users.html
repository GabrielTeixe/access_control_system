<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerenciar Usuários</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #f0f2f5; margin:0; }
        header { background-color: #327ad8; color:white; padding:20px; text-align:center; font-size:24px; }
        .container { max-width:900px; margin:50px auto; padding:20px; background:white; border-radius:12px; }
        table { width:100%; border-collapse: collapse; margin-bottom:20px; }
        th, td { border:1px solid #ccc; padding:10px; text-align:left; }
        th { background-color: #327ad8; color:white; }
        input, button { padding:8px; margin-right:10px; border-radius:6px; border:1px solid #ccc; }
        button { background-color:#327ad8; color:white; cursor:pointer; }
        .delete { background-color:red; color:white; border:none; cursor:pointer; padding:5px 10px; border-radius:6px; }
        .edit { background-color:orange; color:white; border:none; cursor:pointer; padding:5px 10px; border-radius:6px; }
        a { text-decoration:none; color:#327ad8; }
    </style>
</head>
<body>
    <header>Gerenciar Usuários</header>
    <div class="container">
        <table>
            <tr>
                <th>Nome Completo</th>
                <th>E-mail</th>
                <th>Usuário</th>
                <th>Role</th>
                <th>Ações</th>
            </tr>
            {% for user in users %}
            <tr>
                <td>{{ user.fullname }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.username }}</td>
                <td>{{ user.role }}</td>
                <td>
                    <form method="post" action="/users/delete" style="display:inline;">
                        <input type="hidden" name="username" value="{{ user.username }}">
                        <button class="delete" type="submit">Remover</button>
                    </form>
                    <form method="get" action="/users/edit" style="display:inline;">
                        <input type="hidden" name="username" value="{{ user.username }}">
                        <button class="edit" type="submit">Editar</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </table>

        <h3>Adicionar Usuário</h3>
        <form method="post" action="/users/add">
            <input type="text" name="fullname" placeholder="Nome completo" required>
            <input type="email" name="email" placeholder="E-mail" required>
            <input type="text" name="username" placeholder="Usuário" required>
            <input type="text" name="role" placeholder="Role" required>
            <button type="submit">Adicionar</button>
        </form>

        <div style="margin-top:20px;">
            <a href="/dashboard">← Voltar ao Dashboard</a>
        </div>
    </div>
</body>
</html>
